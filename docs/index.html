<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Vom LDR zum Fotometer ‚Äì Ein Lernmodul zur Sensorkalibrierung und quantitativen Messdatenauswertung</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <!-- highlight.js (atom-one-dark) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <!-- Mathjax -->
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <!-- p5.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/p5.js"></script>
  <!-- plotly.js -->
  <script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>
  <!-- highlight.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <style>
    :root {
      --kit-primary-color: #4CAF50;
      --kit-secondary-color: #45a049;
      --header-height: 80px;
      --progressbar-height: 8px;
      --correct-color: #28a745;
      --incorrect-color: #dc3545;
      --font-main: 'Roboto', sans-serif;
      --font-title: 'Roboto', sans-serif;
      --section-radius: 18px;
      --section-shadow: 0 8px 32px rgba(44,62,80,0.08);
      --section-bg: #fff;
      --section-margin: 36px;
      --section-padding: 48px 24px;
      --emoji-opacity: 0.08;
    }
    html, body {
      margin: 0;
      padding: 0;
      font-family: var(--font-main);
      background: linear-gradient(180deg, #f7faf9 0%, #e8f5e9 100%);
      color: #222;
      min-height: 100vh;
    }
    .kit-header {
      position: fixed;
      top: 0; left: 0; right: 0;
      height: var(--header-height);
      background: #fff;
      box-shadow: 0 2px 8px rgba(44,62,80,0.06);
      z-index: 100;
      display: flex;
      align-items: center;
      padding: 0 32px;
      gap: 24px;
    }
    .kit-header img {
      height: 48px;
      width: 48px;
      border-radius: 8px;
      background: #f4f4f4;
      object-fit: contain;
    }
    .kit-header .header-titles {
      flex: 1;
      min-width: 0;
    }
    .kit-header .header-titles .title {
      font-family: var(--font-title);
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--kit-primary-color);
      margin-bottom: 2px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .kit-header .header-titles .subtitle {
      font-size: 1rem;
      color: #555;
      font-weight: 400;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .kit-header .header-btn {
      background: var(--kit-primary-color);
      color: #fff;
      border: none;
      border-radius: 6px;
      padding: 8px 18px;
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.2s, transform 0.2s;
      margin-left: 12px;
    }
    .kit-header .header-btn:hover, .kit-header .header-btn:focus {
      background: var(--kit-secondary-color);
      transform: scale(1.05);
    }
    .progress-container {
      position: fixed;
      top: var(--header-height);
      left: 0; right: 0;
      height: var(--progressbar-height);
      background: #e0e0e0;
      z-index: 101;
    }
    .progress-bar {
      height: 100%;
      width: 0%;
      background: var(--kit-primary-color);
      transition: width 0.2s;
    }
    main {
      margin-top: calc(var(--header-height) + var(--progressbar-height) + 24px);
      padding-bottom: 48px;
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
    }
    .content-section {
      background: var(--section-bg);
      border-radius: var(--section-radius);
      box-shadow: var(--section-shadow);
      margin-bottom: var(--section-margin);
      padding: var(--section-padding);
      position: relative;
      opacity: 0;
      transform: translateY(40px);
      transition: opacity 0.7s cubic-bezier(.4,0,.2,1), transform 0.7s cubic-bezier(.4,0,.2,1);
      will-change: opacity, transform;
    }
    .content-section.is-visible {
      opacity: 1;
      transform: none;
    }
    .section-emoji {
      position: absolute;
      right: 24px;
      bottom: 18px;
      font-size: 7rem;
      opacity: var(--emoji-opacity);
      pointer-events: none;
      user-select: none;
    }
    h1, h2, h3, h4 {
      font-family: var(--font-title);
      color: var(--kit-primary-color);
      margin-top: 0;
    }
    h1 { font-size: 2.2rem; }
    h2 { font-size: 1.5rem; }
    h3 { font-size: 1.2rem; }
    .material-list {
      list-style: none;
      padding: 0;
      margin: 0 0 16px 0;
    }
    .material-list li {
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .material-list li i {
      color: var(--kit-primary-color);
      font-size: 1.1em;
    }
    .ldr-simulation-container {
      margin: 24px 0;
      background: #f8f8f8;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(44,62,80,0.04);
      padding: 18px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    #ohmmeter-display-1-1 {
      background-color: #f4f4f4;
      border: 2px solid #333;
      border-radius: 5px;
      padding: 15px;
      margin-top: 15px;
      text-align: center;
      font-family: 'Courier New', Courier, monospace;
      font-size: 1.5em;
      font-weight: bold;
      color: #000;
    }
    /* ... weitere Styles f√ºr Akkordeon, Flip-Karten, Reveal-Boxen, Quiz, Copy-Button, Mermaid, etc. ... */
    /* Responsive */
    @media (max-width: 700px) {
      main { padding: 0 4vw; }
      .content-section { padding: 32px 8px; }
      .kit-header { padding: 0 8px; }
    }
    .ldr-simulator-container-adv {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        background-color: #f7f9fc;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 20px;
        max-width: 500px;
        margin: 20px auto;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }
    .ldr-simulator-container-adv h3,
    .ldr-simulator-container-adv h4 {
        margin-top: 0;
        text-align: center;
        color: #333;
    }
    .slider-group {
        margin-bottom: 25px;
        padding: 15px;
        background: #fff;
        border-radius: 6px;
        border: 1px solid #e0e0e0;
    }
    .slider-group label {
        display: block;
        margin-bottom: 10px;
        font-weight: 600;
        color: #005a9c;
    }
    .slider-wrapper {
        display: flex;
        align-items: center;
        gap: 15px;
        font-size: 0.9em;
    }
    .slider-wrapper input[type="range"] {
        flex-grow: 1;
        cursor: pointer;
    }
    /* Anzeige f√ºr R1-Wert */
    [classid="r1-value-display"] { 
        text-align: center;
        margin-top: 10px;
        font-size: 0.9em;
        color: #444;
    }
    .circuit-info-adv {
        font-size: 0.9em;
        color: #555;
        background-color: #e9ecef;
        padding: 10px 15px;
        border-radius: 6px;
        margin-bottom: 20px;
    }
    .circuit-info-adv p {
        margin: 4px 0;
        font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
    }
    .data-display-adv {
        background-color: #fff;
        border: 1px solid #e0e0e0;
        padding: 10px 15px;
        border-radius: 6px;
    }
    .data-row {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
    .data-display-adv p {
        margin: 12px 0;
        display: flex;
        justify-content: space-between;
        font-size: 1.1em;
    }
    .data-display-adv hr {
        border: 0;
        border-top: 1px dashed #ccc;
        margin: 10px 0;
    }
    .data-display-adv strong {
        color: #d9534f; /* Auff√§llige Farbe f√ºr Ergebnisse */
        font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
        font-size: 1.1em;
    }
    /* Custom Code Block Styles */
    .custom-code-block {
      background: #e8f5e9;
      color: #222;
      border: 1.5px solid var(--kit-primary-color);
      border-radius: 8px;
      padding: 18px 18px 12px 18px;
      margin: 18px 0;
      position: relative;
      font-family: 'Fira Mono', 'Consolas', 'Menlo', 'Monaco', monospace;
      overflow-x: auto;
    }
    .custom-code-block pre {
      margin: 0;
      background: transparent;
      color: inherit;
      font-size: 1em;
      overflow-x: auto;
    }
    .custom-code-block .copy-btn {
      position: absolute;
      top: 10px;
      right: 12px;
      background: var(--kit-primary-color);
      color: #fff;
      border: none;
      border-radius: 4px;
      padding: 5px 10px;
      font-size: 1em;
      cursor: pointer;
      transition: background 0.2s;
      z-index: 2;
      display: flex;
      align-items: center;
      gap: 4px;
    }
    .custom-code-block .copy-btn:hover, .custom-code-block .copy-btn:focus {
      background: var(--kit-secondary-color);
      color: #fff;
    }
    .custom-code-block .copy-btn.copied {
      background: #388e3c;
      color: #fff;
    }
    /* Tooltip Styles */
    .tooltip {
      position: relative;
      display: inline-block;
      cursor: help;
    }
    .tooltip .tooltiptext {
      visibility: hidden;
      width: 320px;
      background-color: #333;
      color: #fff;
      text-align: left;
      border-radius: 8px;
      padding: 12px;
      position: absolute;
      z-index: 10;
      bottom: 110%;
      left: 50%;
      margin-left: -160px; /* Half of the width */
      opacity: 0;
      transition: opacity 0.3s ease, transform 0.3s ease;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      transform: translateY(10px);
    }
    .tooltip .tooltiptext h4 {
        color: var(--kit-primary-color);
        margin-top: 0;
        margin-bottom: 8px;
        font-size: 1.1rem;
    }
    .tooltip .tooltiptext p {
        font-size: 0.9rem;
        line-height: 1.5;
        margin: 0;
    }
    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
      transform: translateY(0);
    }
  </style>
</head>
<body>
  <header class="kit-header" role="banner" aria-label="Modultitel und Fortschrittsanzeige">
    <img src="Media/Images/NWTLOGO.png" alt="NWT Logo" />
    <div class="header-titles">
      <div class="title">Vom LDR zum Fotometer</div>
      <div class="subtitle">Ein Lernmodul zur Sensorkalibrierung und quantitativen Messdatenauswertung</div>
    </div>

  </header>
  <div class="progress-container"><div class="progress-bar" id="progress-bar"></div></div>
  <main>
    <!-- Einf√ºhrung -->
    <section class="content-section" id="intro">
      <div class="section-emoji">üìö</div>
      <h1>Vom LDR zum Fotometer</h1>
      <p class="lead">Ein Lernmodul zur Sensorkalibrierung und quantitativen Messdatenauswertung</p>
      <p><strong>Autor:</strong> John van Dijk</p>
      <p><strong>Lizenzhinweis:</strong> CC BY-SA 4.0</p>
      <p>
        Der Fokus dieser Webseite liegt auf der technischen Bef√§higung: Sie liefert das notwendige Know-how, um einen funktionierenden optischen Sensor zu bauen, diesen am Microcontroller zu betreiben und ‚Äì entscheidend f√ºr den naturwissenschaftlichen Unterricht ‚Äì die Rohdaten in nutzbare Messwerte zu √ºbersetzen. Genau diese technische Kompetenz ist die Voraussetzung, um die <a href="https://lehrerfortbildung-bw.de/u_matnatech/nwt/gym/bp2016/fb5/7_ue9/2_foto/" target="_blank" rel="noopener">UE Fotometer</a> erfolgreich durchzuf√ºhren.
      </p>
      <div class="quiz-block" style="background:#e8f5e9;">
        <i class="fa-solid fa-circle-info"></i>
        Dieses Modul richtet sich an Einsteiger*innen. Falls du ganz neu bist, folge bitte der Vorbereitung unten.
      </div>
      <h2>Vorbereitung & Werkzeuge</h2>
      <ul class="material-list">
        <li><i class="fa-solid fa-download"></i> Arduino IDE installieren: <a href="https://www.arduino.cc/en/software" target="_blank" rel="noopener">arduino.cc/en/software</a></li>
        <li><i class="fa-solid fa-download"></i> CH340-Treiber (falls ben√∂tigt): <a href="https://sparks.gogo.co.nz/ch340.html" target="_blank" rel="noopener">sparks.gogo.co.nz/ch340.html</a></li>
        <li><i class="fa-solid fa-bread-slice"></i> Breadboard verstehen: <a href="https://learn.sparkfun.com/tutorials/how-to-use-a-breadboard/all" target="_blank" rel="noopener">SparkFun Breadboard Guide</a></li>
      </ul>
    </section>
    <!-- 1. Technische Grundlagen: LDR am Microcontroller -->
    <section class="content-section" id="grundlagen">
      <div class="section-emoji">üí°</div>
      <h2>1. Technische Grundlagen: LDR am Microcontroller</h2>
      <h3>1.1. Funktionsprinzip LDR</h3>
      <p>
        Ein LDR (<b>Light Dependent Resistor</b>, auch Fotowiderstand genannt) ist ein elektronisches Bauteil, dessen Widerstand sich mit der Helligkeit √§ndert. 
        Je mehr Licht auf den LDR f√§llt, desto kleiner wird sein elektrischer Widerstand. Im Dunkeln ist der Widerstand sehr hoch (bis zu 200 kŒ©), bei starkem Licht sinkt er auf wenige hundert Ohm.
        <br>
        <b>Merke:</b> <i>Der Zusammenhang ist <u>invers</u>: Viel Licht ‚Üí kleiner Widerstand, wenig Licht ‚Üí gro√üer Widerstand.</i>
      </p>
      <div style="
              display: flex; 
              justify-content: center; /* Zentriert horizontal */
              align-items: center;     /* Zentriert vertikal */
             width: 100%; 
              min-height: 50vh;         /* Sorgt daf√ºr, dass der Wrapper die ganze Bildschirmh√∂he einnimmt */
              padding: 24px; 
              box-sizing: border-box;  /* Stellt sicher, dass Padding die H√∂he/Breite nicht sprengt */
             background-color: #f4f4f4; /* Nur zur Demo */
               ">
       <div style="display: flex; gap: 24px; align-items: flex-start; flex-wrap: wrap;">
        <img src="Media/Images/LDRneu.jpeg" alt="Foto eines LDR" style="max-width: 300px; height: auto;border: 1px solid #ccc; padding: 5px;">
        
          
          <svg viewBox="0 0 100 100" style="width: 300px; height: auto; border: 1px solid #ccc; padding: 5px;">
            <line x1="10" y1="10" x2="10" y2="90" stroke="black" stroke-width="0.5"/>
            
            
            <text x="5" y="50" font-size="5" dominant-baseline="middle" text-anchor="end" transform="rotate(-90, 5, 50)">Widerstand (Œ©)</text>
            <line x1="10" y1="90" x2="90" y2="90" stroke="black" stroke-width="0.5"/>
            <text x="15" y="95" font-size="5" dominant-baseline="middle" text-anchor="middle">Dunkel</text>
            <text x="85" y="95" font-size="5" dominant-baseline="middle" text-anchor="middle">Hell</text>
            <text x="50" y="98" font-size="5" dominant-baseline="middle" text-anchor="middle">Lichtintensit√§t</text>
            <path d="M 15 15 Q 20 90 90 90" fill="none" stroke="#d9534f" stroke-width="2"/>
          </svg>
        </div>
      </div>
      <h3 style="margin-top:32px;">1.2. Der Spannungsteiler</h3>
      <p>
        Ein <b>Spannungsteiler</b> ist eine einfache Schaltung aus zwei Widerst√§nden, mit der man eine Eingangsspannung in eine kleinere Ausgangsspannung umwandeln kann.
        <br>
        Im Fotometer wird der LDR mit einem festen Widerstand in Reihe geschaltet. Die Ausgangsspannung zwischen den beiden Widerst√§nden h√§ngt davon ab, wie hell es ist ‚Äì und damit vom Widerstand des LDR.
        <br>
        <b>Formel (mit Herleitung beim √úberfahren):</b>
        <div class="tooltip" style="display: inline-block; border-bottom: 1px dotted #333; text-align: center;">
            \( V_{out} = V_{in} \cdot \frac{R_{LDR}}{R1 + R_{LDR}} \)
            <span class="tooltiptext">
                <h4>Herleitung der Formel</h4>
                <p>
                    Die Formel basiert auf dem Ohmschen Gesetz \(U = R \cdot I\).
                    <br>1. <strong>Gesamtwiderstand:</strong> \(R_{ges} = R1 + R_{LDR}\)
                    <br>2. <strong>Gesamtstrom:</strong> \(I = \frac{V_{in}}{R_{ges}} = \frac{V_{in}}{R1 + R_{LDR}}\)
                    <br>3. <strong>Spannung am LDR (\(V_{out}\)):</strong> \(V_{out} = R_{LDR} \cdot I\)
                    <br>4. <strong>Einsetzen:</strong> \(V_{out} = R_{LDR} \cdot \frac{V_{in}}{R1 + R_{LDR}}\)
                </p>
            </span>
        </div>
        <br>
        <b> So kann der Mikrocontroller die Helligkeit als Spannung messen!</b>
        <br>
        
      </p>
      <div style="
              display: flex; 
              justify-content: center; /* Zentriert horizontal */
              align-items: center;     /* Zentriert vertikal */
             width: 100%; 
              min-height: 50vh;         /* Sorgt daf√ºr, dass der Wrapper die ganze Bildschirmh√∂he einnimmt */
              padding: 24px; 
              box-sizing: border-box;  /* Stellt sicher, dass Padding die H√∂he/Breite nicht sprengt */
             background-color: #f4f4f4; /* Nur zur Demo */
               ">
       <div style="display: flex; gap: 24px; align-items: flex-start; flex-wrap: wrap;">
       <img src="Media/Images/Spannungsteiler.png" 
         
         style="max-width: 100%; height: auto;">
          </div>
        </div>

         <figure style="border: 1px solid #ccc; padding: 10px; text-align: center; background: #f9f9f9;">
        <figcaption>
          <em>Dies ist die h√§ufigste Schaltung, bei der die Ausgangsspannung steigt, wenn es dunkler wird</em>
        </figcaption>
      </figure>
    
      <h3 style="margin-top:32px;">1.3. Simulation</h3>
      <div class="ldr-simulator-container-adv">
          <h3>‚ö° Interaktive LDR-Schaltung (Spannungsteiler)</h3>
          <p>Experimentieren Sie mit der Lichtst√§rke und dem Festwiderstand (R1),
              um zu sehen, wie sich Spannung und ADC-Wert ver√§ndern. Optimiere die Sensitivit√§t
            des Lichtsensors mit verschiedenen R1-Werten.</p>
      
          <div class="slider-group">
              <label for="light-slider-adv"><strong>Lichtintensit√§t</strong></label>
              <div class="slider-wrapper">
                  <span>üåô Dunkel</span>
                  <input type="range" id="light-slider-adv" min="0" max="100" value="0">
                  <span>‚òÄÔ∏è Hell</span>
              </div>
          </div>
      
          <div class="slider-group">
              <label for="fixed-resistor-slider"><strong>Festwiderstand (R1)</strong></label>
              <div class="slider-wrapper">
                  <span>1 kŒ©</span>
                  <input type="range" id="fixed-resistor-slider" min="1" max="200" value="10">
                  <span>200 kŒ©</span>
              </div>
              <div classid="r1-value-display">Aktuell R1: <strong id="fixed-res-display">...</strong></div>
          </div>
      
          <div class="data-display-adv">
    <h4>Simulierte Messwerte:</h4>
    
    <div class="data-row">
        <span class="label"><i>R</i><sub>LDR</sub></span>
        <span class="equals">=</span>
        <span class="value"><strong id="ldr-res-display">...</strong> </span>
    </div>

    <div class="data-row">
        <span class="label"><i>V</i><sub>out</sub></span>
        <span class="equals">=</span>
        <span class="value"><strong id="output-volt-display">...</strong> </span>
    </div>

    <div class="data-row">
        <span class="label">ADC (0-1023)</span>
        <span class="equals">=</span>
        <span class="value"><strong id="adc-value-display">...</strong></span>
    </div>
</div>
          

      
      <script>
          document.addEventListener('DOMContentLoaded', function() {
      
              // 1. Alle HTML-Elemente holen
              const lightSlider = document.getElementById('light-slider-adv');
              const r1Slider = document.getElementById('fixed-resistor-slider');
      
              const ldrResDisplay = document.getElementById('ldr-res-display');
              const fixedResDisplay = document.getElementById('fixed-res-display');
              const voltDisplay = document.getElementById('output-volt-display');
              const adcDisplay = document.getElementById('adc-value-display');
      
              // 2. Physische Konstanten
              const V_IN = 5.0;      // 5 Volt Versorgungsspannung
              const ADC_MAX = 1023;  // 10-Bit ADC (wie Arduino)
      
              // 3. Die Hauptfunktion
              function updateSimulation() {
                  
                  // --- INPUTS auslesen ---
                  
                  // Lichtlevel (0-100)
                  const lightLevel = parseFloat(lightSlider.value);
                  
                  // Festwiderstand R1 (1-50 kŒ©)
                  const r1_kOhm = parseFloat(r1Slider.value);
                  
                  
                  // --- BERECHNUNGEN ---
      
                  // A) LDR-Widerstand (R_LDR) simulieren
                  // (Exponentielle Abnahme, um realistischer zu sein als linear)
                  // (100% Licht -> 1 kŒ©, 0% Licht -> ~200 kŒ©)
                  const minRes = 1.0;  // kŒ© bei max Licht
                  const maxRes = 200.0; // kŒ© bei min Licht
                  const ldr_kOhm = minRes + (maxRes - minRes) * Math.pow(1 - (lightLevel / 100), 4);
                  
                  // B) Spannungsteiler (V_out) berechnen
                  // V_out = V_in * (R_LDR / (R1 + R_LDR))
                  const vOut = V_IN * (ldr_kOhm / (r1_kOhm + ldr_kOhm));
      
                  // C) ADC-Wert (Analog-Digital-Wandler) berechnen
                  // (vOut / V_IN) * ADC_MAX
                  const adcValue = (vOut / V_IN) * ADC_MAX;
      
                  
                  // --- OUTPUTS anzeigen ---
                  
                  // LDR-Wert
                  ldrResDisplay.textContent = `${ldr_kOhm.toFixed(1)} kŒ©`;
                  
                  // R1-Wert
                  fixedResDisplay.textContent = `${r1_kOhm.toFixed(0)} kŒ©`;
                  
                  // Spannung
                  voltDisplay.textContent = `${vOut.toFixed(2)} V`;
                  
                  // ADC-Wert
                  adcDisplay.textContent = `${Math.round(adcValue)}`;
              }
      
              // 4. Event-Listener an BEIDE Slider h√§ngen
              lightSlider.addEventListener('input', updateSimulation);
              r1Slider.addEventListener('input', updateSimulation);
      
              // 5. Simulation beim Laden der Seite initialisieren
              updateSimulation();
          });
      </script>
    </section>

    <section class="content-section" id="aufbau">
      <div class="section-emoji">üß∞</div>
      <h2>2. Der Messaufbau</h2>
      <p>
        Nachdem die elektronischen Grundlagen (LDR und Spannungsteiler) gekl√§rt sind, folgt der Aufbau des Fotometers. 
        F√ºr die Demonstration des Messprinzips gen√ºgt eine stark reduzierte, <strong>modellhafte Anordnung</strong> von nur drei Komponenten. 
        Wir erweitern daf√ºr einfach den Aufbau aus Teil 1 um eine LED. Die Optimierung dieses Aufbaus wird sp√§ter zum Gegenstand der Unterrichtseinheit.
      </p>


       <div style="
              display: flex; 
              justify-content: center; /* Zentriert horizontal */
              align-items: center;     /* Zentriert vertikal */
             width: 100%; 
              min-height: 50vh;         /* Sorgt daf√ºr, dass der Wrapper die ganze Bildschirmh√∂he einnimmt */
              padding: 24px; 
              box-sizing: border-box;  /* Stellt sicher, dass Padding die H√∂he/Breite nicht sprengt */
             background-color: #f4f4f4; /* Nur zur Demo */
               ">
       <div style="display: flex; gap: 24px; align-items: flex-start; flex-wrap: wrap;">
       <img src="Media/Images/Fotometer.png" 
         
         style="max-width: 70%; height: auto;">
          </div>
        </div>




      <figure style="border: 1px solid #ccc; padding: 10px; text-align: center; background: #f9f9f9;">
        <figcaption>
          <em>Fotometer: Probenbeh√§lter in Rot zwischen LDR und LED</em>
        </figcaption>
      </figure>
     

    <h4>Der Funktions-Check (Arduino Code)</h4>
    <p>
        Um den Aufbau zu testen, ben√∂tigen wir einen einfachen Code ("Sketch"). Dieser schaltet die Lichtquelle dauerhaft ein 
        und sendet die gemessenen Helligkeitswerte an den Computer (Serieller Monitor).
    </p>

    <div class="custom-code-block">
      <button class="copy-btn" title="Code kopieren"><i class="fa fa-copy"></i></button>
      <pre><code class="language-cpp">
/*
  Einfacher Fotometer-Test
  Zweck: LED einschalten und LDR-Werte im Seriellen Monitor anzeigen.
*/

// Pins definieren
const int sensorPin = A3; // Der LDR (Spannungsteiler) h√§ngt an A0
const int ledPin = 3;     // Die LED (mit Vorwiderstand) h√§ngt an Pin 3

void setup() {
  // 1. Serielle Kommunikation f√ºr die Daten√ºbertragung zum PC starten
  Serial.begin(9600);
  
  // 2. LED konfigurieren und einschalten
  pinMode(ledPin, OUTPUT);
  digitalWrite(ledPin, HIGH); // Dauerlicht an f√ºr konstante Messung
}

void loop() {
  // 3. Den aktuellen Wert vom Sensor lesen (Bereich 0 bis 1023)
  int rohwert = analogRead(sensorPin);
  
  // 4. Wert zur Kontrolle an den PC senden
  Serial.print("Aktueller Lichtwert: ");
  Serial.println(rohwert);
  
  // 5. Kurze Pause, damit die Zahlen lesbar bleiben
  delay(500); 
}
      </code></pre>
    </div>

    <p style="margin-top:15px;">
        <strong>Test-Anleitung:</strong> Laden Sie diesen Code hoch und √∂ffnen Sie den <em>Seriellen Monitor</em> (Lupe oben rechts). 
        Halten Sie nun einen Gegenstand oder eine gef√ºllte K√ºvette zwischen LED und LDR. Der Zahlenwert muss sich deutlich ver√§ndern.
    </p>

    <hr>
      <p style="margin-top: 15px;">
        Das Prinzip der <strong>Transmissionsmessung</strong> ist einfach: Je weniger Licht am LDR ankommt (durch Absorption oder Streuung), 
        desto h√∂her ist die Konzentration der untersuchten Substanz (z.B. Fett im Milchtest oder Farbstoff im Cola-Test).
      </p>
      <hr>
      <h3>Ans√§tze zur sp√§teren Optimierung</h3>
      <ul>
        <li><strong>Fremdlicht (St√∂rfaktor):</strong> Schon das Umgebungslicht verf√§lscht die Messung massiv.
          <em>Optimierung:</em> Bau eines <strong>lichtdichten Geh√§uses</strong> (z.B. aus schwarz lackiertem Holz oder Karton).</li>
        <li><strong>Geometrische Stabilit√§t:</strong> Geringf√ºgige Bewegungen von LED oder LDR f√ºhren zu Schwankungen im Rohwert.
          <em>Optimierung:</em> <strong>Feste Montage</strong> der Komponenten und Einhaltung eines konstanten Abstands.</li>
        <li><strong>Lichtb√ºndelung:</strong> Die LED strahlt diffus ab, was die Messgenauigkeit mindert.
          <em>Optimierung:</em> Einsatz von <strong>Lochblenden</strong> oder lichtdichten Trennw√§nden, um den Strahl zu fokussieren.</li>
        <li><strong>Wellenl√§nge (Farbe):</strong> Die gew√§hlte LED-Farbe muss zur Probe passen.
          <em>Optimierung:</em> Auswahl der optimalen LED-Farbe f√ºr die spezifische Messung (z.B. rote LED f√ºr blaue Fl√ºssigkeiten).</li>
      </ul>
    </section>

    <section class="content-section" id="kalibrierung">
      <div class="section-emoji">üß™</div>
      <h2>3. Messwerterfassung & Kalibrierung</h2>
      <p>
        <em>Hier wird die Br√ºcke von einem abstrakten "Rohwert" zur quantitativen Messung geschlagen.</em>
      </p>

      <article>
        <h3>3.1. Der Rohwert ist nicht die Messgr√∂√üe</h3>
        <p>
          Der Arduino liefert √ºber den Befehl <code>analogRead()</code> lediglich einen Wert zwischen 
          <strong>0 und 1023</strong>. Das ist technisch korrekt, aber physikalisch nutzlos. 
          Ein Wert von "850" sagt nichts dar√ºber aus, ob eine Milch fettarm ist oder wie viel Zucker in der Cola ist.
        </p>
        <div style="background-color: #f9f9f9; padding: 15px; border-left: 5px solid #d9534f; margin-bottom: 16px;">
          <strong>Das Ziel:</strong> Wir m√ºssen den Rohwert (0-1023) in eine verst√§ndliche Einheit umrechnen, 
          z. B. <strong>Konzentration in %</strong>.
        </div>
      </article>

      <article>
        <h3>3.2. L√∂sung: Die Kalibrierung (2-Punkt-Methode)</h3>
        <p>
          Um dem Sensor beizubringen, was er sieht, brauchen wir zwei bekannte Punkte (Referenzwerte).
        </p>
        <ul>
          <li><strong>Punkt A (Hell):</strong> Klares Wasser in der K√ºvette. Der Sensor sieht viel Licht. 
            <br><em>Beispielwert: 900 (entspricht 0% Verschmutzung/Sirup).</em></li>
          <li><strong>Punkt B (Dunkel):</strong> Maximale Konzentration (z.B. purer Sirup/Milch). Der Sensor sieht wenig Licht. 
            <br><em>Beispielwert: 300 (entspricht 100% Verschmutzung/Sirup).</em></li>
        </ul>
        <p>Alle Werte dazwischen k√∂nnen nun rechnerisch ermittelt werden.</p>
      </article>

      <hr>

      <article>
        <h3>3.3. Methode A: Externe Auswertung (Der "Wissenschaftler")</h3>
        <p>
          Diese Methode eignet sich hervorragend f√ºr den Physik-Unterricht, um Messreihen aufzunehmen und grafisch auszuwerten[cite: 9, 64].
        </p>
        <ol>
          <li>Laden Sie den "Basis-Sketch" (siehe oben) auf den Arduino.</li>
          <li>√ñffnen Sie den <strong>Seriellen Monitor</strong>.</li>
          <li>Messen Sie nacheinander verschiedene Verd√ºnnungen (0%, 25%, 50%, 100%).</li>
          <li>Notieren Sie die Rohwerte in einer Excel-Tabelle.</li>
          <li>Erstellen Sie ein <strong>XY-Punkt-Diagramm</strong> (Kalibrierkurve).</li>
        </ol>
        <p><em>Vorteil: Die Sch√ºler sehen Nicht-Linearit√§ten und Messfehler direkt.</em></p>
      </article>

      <article>
        <h3>3.4. Methode B: Interne Auswertung (Der "Intelligente Sensor")</h3>
        <p>
          Hier programmieren wir die Mathematik direkt in den Controller. Das Ergebnis ist ein eigenst√§ndiges Messger√§t, 
          wie es f√ºr den "Neutralisationsautomat" [cite: 266] oder den "Milch-Fett-Sensor" [cite: 68] ben√∂tigt wird.
        </p>
        <p>Wir nutzen die Funktion <code>map()</code>, um den Bereich umzurechnen.</p>
        <pre><code style="display:block; background:#eee; padding:10px;">
// Beispiel-Code f√ºr den Loop
void loop() {
  int rohwert = analogRead(A0);
  
  // KALIBRIERUNG: Diese Werte m√ºssen experimentell ermittelt werden!
  // Wasser (hell) = 900 (vom Sensor abgelesen)
  // Sirup (dunkel) = 300 (vom Sensor abgelesen)
  
  // Umrechnung: map(Wert, vonMin, vonMax, zuMin, zuMax)
  // Achtung: Hoher Rohwert (900) = 0% Konzentration
  // Niedriger Rohwert (300) = 100% Konzentration
  
  int konzentration = map(rohwert, 900, 300, 0, 100);
  
  // Begrenzung auf 0-100% (falls Messwerte schwanken)
  konzentration = constrain(konzentration, 0, 100);

  Serial.print("Konzentration: ");
  Serial.print(konzentration);
  Serial.println(" %");
  
  delay(500);
}
        </code></pre>
        <p>
          <strong>Tipp f√ºr den Unterricht:</strong> Lassen Sie die Sch√ºler erst die Werte 900 und 300 selbst herausfinden 
          (Methodenkompetenz), bevor sie diese in den Code eintragen.
        </p>
      </article>
    </section>
    <!-- ... weitere Sektionen wie Quiz, Code, Troubleshooting, etc. ... -->
  </main>
  <footer>
    <div>CC BY Lizenz, Andreas Sexauer, Zentrum f√ºr Mediales Lernen am Karlsruher Institut f√ºr Technologie (KIT).</div>
    <div><small>Dieses Lernmodul wurde mithilfe von k√ºnstlicher Intelligenz (KI) konzipiert und programmiert.</small></div>
  </footer>
  <script>
    // Progressbar
    const progressBar = document.getElementById('progress-bar');
    window.addEventListener('scroll', () => {
      const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
      const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      const progress = (scrollTop / scrollHeight) * 100;
      progressBar.style.width = progress + '%';
    });
    // Section Observer
    const sections = document.querySelectorAll('.content-section');
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add('is-visible');
      });
    }, { threshold: 0.15 });
    sections.forEach(sec => observer.observe(sec));
    // highlight.js
    hljs.highlightAll();
  </script>
  <script>
    // Copy-to-Clipboard for custom code blocks
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelectorAll('.custom-code-block .copy-btn').forEach(function(btn) {
        btn.addEventListener('click', function() {
          const code = btn.parentElement.querySelector('pre code');
          if (!code) return;
          // Remove leading/trailing whitespace and dedent
          let text = code.innerText.replace(/^\s*\n/, '').replace(/\s*$/, '');
          // Copy to clipboard
          navigator.clipboard.writeText(text).then(function() {
            btn.classList.add('copied');
            btn.innerHTML = '<i class="fa fa-check"></i> Kopiert!';
            setTimeout(function() {
              btn.classList.remove('copied');
              btn.innerHTML = '<i class="fa fa-copy"></i>';
            }, 1200);
          });
        });
      });
    });
  </script>

</body>
</html>
